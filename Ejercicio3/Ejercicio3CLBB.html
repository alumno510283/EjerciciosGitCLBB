<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
        // Clase Persona con sus atributos
        class Persona {
            constructor(nombre, apellidos, poblacion, edad, estudios, carnet) {
                if (typeof edad !== 'number' || typeof estudios !== 'string') {
                    alert('Los tipos de datos no son válidos.');
                    return;
                }
                this.nombre = nombre;
                this.apellidos = apellidos;
                this.poblacion = poblacion;
                this._edad = edad;
                this._estudios = estudios;
                this.carnet = carnet;
            }

            get edad() {
                return this._edad;
            }

            set edad(edad) {
                if (typeof edad === 'number') {
                    this._edad = edad;
                } else {
                    alert('La edad es un numero');
                }
            }

            get estudios() {
                return this._estudios;
            }

            set estudios(estudios) {
                if (typeof estudios === 'string') {
                    this._estudios = estudios;
                } else {
                    alert('Los estudios es un texto');
                }
            }
        }

        // Array de objetos Persona y ordenarlo
        let personas = [
            new Persona('Alberto', 'Perez', 'Madrid', 20, 'Bachillerato', true),
            new Persona('Lucia', 'Gomez', 'Barcelona', 30, 'Grado', false),
            new Persona('Pedro', 'Lopez', 'Toledo', 23, 'Master', true)
        ];
        personas.sort((a, b) => a.nombre.localeCompare(b.nombre));

        // Mapa
        let mapaPersonas = new Map();
        mapaPersonas.set('76420865Q', new Persona('Maria', 'Martinez', 'Sevilla', 28, 'Doctorado', false));
        mapaPersonas.set('23856252B', new Persona('Fernando', 'Rodriguez', 'Bilbao', 40, 'ESO', true));
        mapaPersonas.set('06124842C', new Persona('Ana', 'Fernandez', 'Málaga', 22, 'Grado', false));

        // La tabla HTML para mostrar los datos de personas
        let tabla = document.createElement('table');
        tabla.border = '1';
        let encabezados = ['Nombre', 'Apellidos', 'Población', 'Edad', 'Estudios', 'Carnet de Conducir'];
        let encabezadoRow = tabla.insertRow();
        for (let encabezado of encabezados) {
            let cell = encabezadoRow.insertCell();
            cell.textContent = encabezado;
        }
        for (let persona of personas) {
            let row = tabla.insertRow();
            let cell = row.insertCell();
            cell.textContent = persona.nombre;
            cell = row.insertCell();
            cell.textContent = persona.apellidos;
            cell = row.insertCell();
            cell.textContent = persona.poblacion;
            cell = row.insertCell();
            cell.textContent = persona.edad;
            cell = row.insertCell();
            cell.textContent = persona.estudios;
            cell = row.insertCell();
            cell.textContent = persona.carnet;
        }

        document.body.appendChild(tabla);

        // Muestra el mapa en la consola 
        console.log(mapaPersonas);
    </script>
</body>

</html>